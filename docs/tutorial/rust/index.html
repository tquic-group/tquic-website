<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorial/rust">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Using the Rust API | TQUIC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tquic.net/img/tquic-social-card.png"><meta data-rh="true" name="twitter:image" content="https://tquic.net/img/tquic-social-card.png"><meta data-rh="true" property="og:url" content="https://tquic.net/docs/tutorial/rust"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using the Rust API | TQUIC"><meta data-rh="true" name="description" content="This tutorial describes how to use the TQUIC RUST API."><meta data-rh="true" property="og:description" content="This tutorial describes how to use the TQUIC RUST API."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tquic.net/docs/tutorial/rust"><link data-rh="true" rel="alternate" href="https://tquic.net/docs/tutorial/rust" hreflang="en"><link data-rh="true" rel="alternate" href="https://tquic.net/zh/docs/tutorial/rust" hreflang="zh"><link data-rh="true" rel="alternate" href="https://tquic.net/docs/tutorial/rust" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="TQUIC RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="TQUIC Atom Feed">




<script src="https://hm.baidu.com/hm.js?5f7e9bd63c8f9a814fb73b9ff8c2235b" async></script><link rel="stylesheet" href="/assets/css/styles.6f66319c.css">
<link rel="preload" href="/assets/js/runtime~main.f775762a.js" as="script">
<link rel="preload" href="/assets/js/main.41885600.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="TQUIC Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="TQUIC Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TQUIC</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/tutorial/rust" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/docs/tutorial/rust" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><a href="https://github.com/tencent/tquic" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/core_concepts">Core concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial/rust">Using the Rust API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/c">Using the C API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/api-reference">API Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/contributing">Contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/frequently-asked-questions">Frequently Asked Questions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Frequently Asked Questions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/further-readings">Further Readings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Further Readings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/tutorial"><span itemprop="name">Tutorial</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using the Rust API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Using the RUST API</h1><p>This tutorial describes how to use the TQUIC RUST API.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The complete example code for this article can be found in the <a href="https://github.com/tquic-group/tquic-example-rust" target="_blank" rel="noopener noreferrer">TQUIC RUST example</a> repository on GitHub:</p><ul><li><a href="https://github.com/tquic-group/tquic-example-rust/blob/main/src/bin/simple_client.rs" target="_blank" rel="noopener noreferrer">simple_client.rs</a></li><li><a href="https://github.com/tquic-group/tquic-example-rust/blob/main/src/bin/simple_server.rs" target="_blank" rel="noopener noreferrer">simple_server.rs</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint-instantiation">Endpoint Instantiation<a href="#endpoint-instantiation" class="hash-link" aria-label="Direct link to Endpoint Instantiation" title="Direct link to Endpoint Instantiation">​</a></h2><p>The Endpoint is responsible for managing connections, processing incoming packets, and scheduling outgoing packets.
To create an <code>Endpoint</code> instance, simply use the <code>new</code> method provided by the <code>Endpoint</code> struct. Further explanation of the parameters for this method can be found below.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub fn new(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config: Box&lt;crate::Config&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is_server: bool,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    handler: Box&lt;dyn TransportHandler&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sender: Rc&lt;dyn PacketSendHandler&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) -&gt; Self</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>It is important to notice that the TQUIC library takes a different approach in receiving and sending packets - it doesn&#x27;t rely on sockets for this purpose. Instead, it delegates these responsibilities to the callbacks provided by the user. Moreover, the library doesn&#x27;t impose any specific event loop requirement but rather offers functions that assist users in scheduling events. This flexibility enables enhanced customization and seamless integration across various systems.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configurations">Configurations<a href="#configurations" class="hash-link" aria-label="Direct link to Configurations" title="Direct link to Configurations">​</a></h3><p>The <code>Config</code> maintains various connection parameters. You can use the Config&#x27;s <code>new</code> method to create an Config instance, and use various setter methods to further customize the configurations.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create default configurations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let mut config = Config::new()?;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Set connection idle timeout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config.set_max_idle_timeout(30000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Set application level protocol </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let mut tls_config = TlsConfig::new()?;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tls_config.set_application_protos(vec![b&quot;h3&quot;.to_vec()]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config.set_tls_config(tls_config);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Refer to the <a href="https://docs.rs/tquic/latest/tquic/struct.Config.html" target="_blank" rel="noopener noreferrer">Config documentation</a> for more configuration options.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="work-mode">Work mode<a href="#work-mode" class="hash-link" aria-label="Direct link to Work mode" title="Direct link to Work mode">​</a></h3><p>The Endpoint can works in either server or client mode, which can be specified using the <code>is_server</code> parameter.</p><p>If your program requires both QUIC client and server functionality, it is recommended to instantiate two separate endpoints.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transporthandler">TransportHandler<a href="#transporthandler" class="hash-link" aria-label="Direct link to TransportHandler" title="Direct link to TransportHandler">​</a></h3><p>The Endpoint notifies the application layer to handle relevant QUIC connection/stream events by invoking the callback functions listed in <code>TransportHandler</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub trait TransportHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when a new connection has been created. This callback is called</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // as soon as connection object is created inside the endpoint, but</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // before the handshake is done. The connection has progressed enough to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // send early data if possible.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_conn_created(&amp;mut self, conn: &amp;mut Connection);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when the handshake is completed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_conn_established(&amp;mut self, conn: &amp;mut Connection);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when the connection is closed. The connection is no longer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // accessible after this callback returns. It is a good time to clean up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // the connection context.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_conn_closed(&amp;mut self, conn: &amp;mut Connection);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when the stream is created.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_stream_created(&amp;mut self, conn: &amp;mut Connection, stream_id: u64);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when the stream is readable. This callback is called when either</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there are bytes to be read or an error is ready to be collected.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_stream_readable(&amp;mut self, conn: &amp;mut Connection, stream_id: u64);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when the stream is writable.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_stream_writable(&amp;mut self, conn: &amp;mut Connection, stream_id: u64);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when the stream is closed. The stream is no longer accessible</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // after this callback returns. It is a good time to clean up the stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // context.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_stream_closed(&amp;mut self, conn: &amp;mut Connection, stream_id: u64);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Called when client receives a token in NEW_TOKEN frame.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_new_token(&amp;mut self, conn: &amp;mut Connection, token: Vec&lt;u8&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="packetsendhandler">PacketSendHandler<a href="#packetsendhandler" class="hash-link" aria-label="Direct link to PacketSendHandler" title="Direct link to PacketSendHandler">​</a></h3><p>The Endpoint utilizes the <code>PacketSendHandler</code> to send packets. Within the PacketSendHandler, there is a callback function called <code>on_packets_send</code>, which is responsible for sending a batch of UDP packets to the network.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub trait PacketSendHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn on_packets_send(&amp;self, pkts: &amp;[(Vec&lt;u8&gt;, PacketInfo)]) -&gt; Result&lt;usize&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The example implementation of PacketSendHandler can be found further down in this article.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="receiving-packets">Receiving packets<a href="#receiving-packets" class="hash-link" aria-label="Direct link to Receiving packets" title="Direct link to Receiving packets">​</a></h2><p>The application receives UDP packets and delivers them to TQUIC by invoking the Endpoint&#x27;s <code>recv</code> method, as demonstrated in the following example.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Receive an incoming UDP datagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let (len, remote) = match socket.recv_from(&amp;mut recv_buf) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ok(v) =&gt; v,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Err(e) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if e.kind() == std::io::ErrorKind::WouldBlock {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Error handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Build a PacketInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let pkt_buf = &amp;mut recv_buf[..len];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let pkt_info = PacketInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    src: remote, // Source address of the packet </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dst: socket.local_addr()?, // Destination address of the packet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time: Instant::now(), // Arriaval time of the packet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Delivery the incoming packet to the endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">match self.endpoint.recv(pkt_buf, &amp;pkt_info) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ok(_) =&gt; {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Err(e) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Error handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sending-packets">Sending packets<a href="#sending-packets" class="hash-link" aria-label="Direct link to Sending packets" title="Direct link to Sending packets">​</a></h2><p>The <code>on_packets_send</code> function is responsible for sending a batch of UDP packets to the network. It should return the number of packets that were successfully sent. In case there are any packets that fail to be sent, the Endpoint will handle their retry at a later time.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fn on_packets_send(&amp;self, pkts: &amp;[(Vec&lt;u8&gt;, PacketInfo)]) -&gt; tquic::Result&lt;usize&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let mut count = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (pkt, info) in pkts {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if let Err(e) = self.socket.send_to(pkt, info.dst) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if e.kind() == std::io::ErrorKind::WouldBlock {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return Ok(count);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Error handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        count += 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ok(count)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The simple example demonstrated the use of <code>recv_from</code> and <code>send_to</code> to read and send packets one by one. However, it is recommended that applications use more efficient methods available to read and send packets in batches.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="process-connections">Process connections<a href="#process-connections" class="hash-link" aria-label="Direct link to Process connections" title="Direct link to Process connections">​</a></h2><p>The <code>process_connections()</code> function must be called to postprocess connections in the following cases:</p><ul><li>When some incoming packets have been processed by using the <code>recv</code> method of Endpoint. </li><li>When timeout events have been handled by calling the <code>on_timeout</code> method of Endpoint. </li><li>When new connections have been initiated by the client through calling the <code>connect</code> method of Endpoint.</li></ul><p>The code example below utilizes <a href="https://docs.rs/mio/latest/mio/struct.Poll.html" target="_blank" rel="noopener noreferrer">Mio Poll</a> as the event framework:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Connect to a server (client)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endpoint.connect(local, remote, server_name, session, token)?;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Do event loop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let mut events = mio::Events::with_capacity(1024);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loop {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoint.process_connections()?;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Get the the earliest timeout on the endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let timeout = endpoint.timeout();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Wait for timeout or IO events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    poll.poll(&amp;mut events, timeout)?;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Process timeout events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if events.is_empty() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        endpoint.on_timeout(Instant::now());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        continue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Process IO events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for event in events.iter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if event.is_readable() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            process_read_event()?;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-connection-initiation">Client connection initiation<a href="#client-connection-initiation" class="hash-link" aria-label="Direct link to Client connection initiation" title="Direct link to Client connection initiation">​</a></h2><p>The client utilizes the connect method of the Endpoint to establish a connection with a server.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub fn connect(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;mut self,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local: SocketAddr,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    remote: SocketAddr,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server_name: Option&lt;&amp;str&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session: Option&lt;&amp;[u8]&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    token: Option&lt;&amp;[u8]&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) -&gt; Result&lt;u64&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The client can provide <code>session</code>/<code>token</code> parameters to create a 0RTT connection, which helps reduce the time needed for establishing a new connection. Please refer to the <a href="#0rtt-connection">&quot;0RTT Connection&quot;</a> section for instructions on obtaining the <code>session</code>/<code>token</code>.</p><p>On the server-side, when a connection is created, the Endpoint invokes the <code>on_conn_created</code> callback function to notify the application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-stream">Using Stream<a href="#using-stream" class="hash-link" aria-label="Direct link to Using Stream" title="Direct link to Using Stream">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-streams">Creating streams<a href="#creating-streams" class="hash-link" aria-label="Direct link to Creating streams" title="Direct link to Creating streams">​</a></h3><p>QUIC allows either endpoint to create streams. The application invokes the <code>stream_new()</code> function on a connection to create a new stream.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub fn stream_new(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;mut self,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stream_id: u64,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    urgency: u8,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    incremental: bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) -&gt; Result&lt;()&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>On the peer side, when a stream is created, the Endpoint invokes the <code>on_stream_created</code> callback function to notify the application.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="writing-to-streams">Writing to streams<a href="#writing-to-streams" class="hash-link" aria-label="Direct link to Writing to streams" title="Direct link to Writing to streams">​</a></h3><p>When the stream is writable, the Endpoint invokes the <code>on_stream_writable</code> callback function to notify the application. The application can send data via the Connection&#x27;s <code>stream_write</code> method.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub fn stream_write(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;mut self,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stream_id: u64,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buf: Bytes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fin: bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) -&gt; Result&lt;usize&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If <code>stream_write</code> returns an <code>Error::Done</code> error, no more data could be written due to flow control restrictions. The application can continue sending data the next time when the stream becomes writable.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reading-from-streams">Reading from streams<a href="#reading-from-streams" class="hash-link" aria-label="Direct link to Reading from streams" title="Direct link to Reading from streams">​</a></h3><p>When the stream is readable or encounters an error, the Endpoint invokes <code>on_stream_readable</code> callback function to notify the application. The application can use the Connection&#x27;s <code>stream_read</code> method to read data or collect error information.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub fn stream_read(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;mut self,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stream_id: u64,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    out: &amp;mut [u8]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) -&gt; Result&lt;(usize, bool)&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If <code>stream_read</code> returns an <code>Error::Done</code> error, no more data could be read. The application can continue reading data the next time when the stream becomes readable.</p><p>See the <a href="https://docs.rs/tquic/latest/tquic/struct.Connection.html" target="_blank" rel="noopener noreferrer">TQUIC API documentation</a> for more stream related operations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0rtt-connection">0RTT Connection<a href="#0rtt-connection" class="hash-link" aria-label="Direct link to 0RTT Connection" title="Direct link to 0RTT Connection">​</a></h2><p>In order to minimize the time required to establish a new connection, a client that has previously connected to a server may cache certain parameters from that connection and subsequently initiate a 0-RTT connection with the server. This allows the client to send data immediately, without waiting for a handshake to complete.</p><p>To be specific, the client needs to maintain session state and address token for previously connections, and utilize those parameters to establish a new connection. An example is as follows:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fn on_conn_closed(&amp;mut self, conn: &amp;mut Connection) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if let Some(session_file) = &amp;self.session_file {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Save the session data (including TLS session data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // and QUIC transport parameters)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if let Some(session) = conn.session() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            std::fs::write(session_file, session).ok();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fn on_new_token(&amp;mut self, conn: &amp;mut Connection, token: Vec&lt;u8&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if let Some(token_file) = &amp;self.token_file {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Save the address token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        std::fs::write(token_file, &amp;token).ok()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Client try to create a 0RTT connection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let c = endpoint.connect(self, local, remote, server_name, session, token)?;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-multiply-cerificates">Using multiply cerificates<a href="#using-multiply-cerificates" class="hash-link" aria-label="Direct link to Using multiply cerificates" title="Direct link to Using multiply cerificates">​</a></h2><p>TQUIC supports selecting different <code>TLSConfig</code>s based on SNI. An applications can implement the <code>TlsConfigSelector</code> trait for selecting custom certificates:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub trait TlsConfigSelector: Send + Sync {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Get default TLSConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_default(&amp;self) -&gt; Option&lt;&amp;TlsConfig&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Get the TLSConfig based on SNI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn select(&amp;self, server_name: &amp;str) -&gt; Option&lt;&amp;TlsConfig&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, it calls Config&#x27;s <code>set_tls_config_selector</code> method to activate the custom TLSConfig selector.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="packets-decryption">Packets decryption<a href="#packets-decryption" class="hash-link" aria-label="Direct link to Packets decryption" title="Direct link to Packets decryption">​</a></h2><p>TQUIC supports exporting TLS keys in <a href="https://udn.realityripple.com/docs/Mozilla/Projects/NSS/Key_Log_Format" target="_blank" rel="noopener noreferrer">NSS key log</a> format, which allows <a href="https://www.wireshark.org/" target="_blank" rel="noopener noreferrer">Wireshark</a> and other tools to decrypt and analyze QUIC packets.</p><p>You can specify the output of the keylog file using the Connection&#x27;s <code>set_keylog</code> method, as shown below:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fn on_conn_created(&amp;mut self, conn: &amp;mut Connection) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Set key log for the connection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if let Some(keylog_file) = &amp;self.keylog_file {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if let Ok(file) = std::fs::OpenOptions::new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .create(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .append(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .open(keylog_file)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            conn.set_keylog(Box::new(file));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            error!(&quot;{} set key log failed&quot;, conn.trace_id());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tencent/tquic-website/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial/rust.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-11T07:06:03.000Z">Jan 11, 2024</time></b> by <b>Sijie Yang</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorial/core_concepts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Core concepts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorial/c"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using the C API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#endpoint-instantiation" class="table-of-contents__link toc-highlight">Endpoint Instantiation</a><ul><li><a href="#configurations" class="table-of-contents__link toc-highlight">Configurations</a></li><li><a href="#work-mode" class="table-of-contents__link toc-highlight">Work mode</a></li><li><a href="#transporthandler" class="table-of-contents__link toc-highlight">TransportHandler</a></li><li><a href="#packetsendhandler" class="table-of-contents__link toc-highlight">PacketSendHandler</a></li></ul></li><li><a href="#receiving-packets" class="table-of-contents__link toc-highlight">Receiving packets</a></li><li><a href="#sending-packets" class="table-of-contents__link toc-highlight">Sending packets</a></li><li><a href="#process-connections" class="table-of-contents__link toc-highlight">Process connections</a></li><li><a href="#client-connection-initiation" class="table-of-contents__link toc-highlight">Client connection initiation</a></li><li><a href="#using-stream" class="table-of-contents__link toc-highlight">Using Stream</a><ul><li><a href="#creating-streams" class="table-of-contents__link toc-highlight">Creating streams</a></li><li><a href="#writing-to-streams" class="table-of-contents__link toc-highlight">Writing to streams</a></li><li><a href="#reading-from-streams" class="table-of-contents__link toc-highlight">Reading from streams</a></li></ul></li><li><a href="#0rtt-connection" class="table-of-contents__link toc-highlight">0RTT Connection</a></li><li><a href="#using-multiply-cerificates" class="table-of-contents__link toc-highlight">Using multiply cerificates</a></li><li><a href="#packets-decryption" class="table-of-contents__link toc-highlight">Packets decryption</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/frequently-asked-questions">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/tencent/tquic/blob/develop/ADOPTERS.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Use cases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tencent/tquic/milestones" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tencent/tquic/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tencent/tquic/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/contributing">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Tencent/tquic/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/tquic" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/bXChN5DE2h" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://twitter.com/tquic_project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 The TQUIC Authors | Documentation Distributed under CC-BY-4.0 <br> Copyright © 2024 Tencent. All Rights Reserved. <a href="https://beian.miit.gov.cn" style="color:#FFFFFF;">GD B2-20090059-1892</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.f775762a.js"></script>
<script src="/assets/js/main.41885600.js"></script>
</body>
</html>